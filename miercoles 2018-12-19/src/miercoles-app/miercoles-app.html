<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../components/cuenta-atras.html">
<link rel="import" href="../components/quizz-answer-form.html">
<link rel="import" href="../components/fortaleza-clave.html">
<link rel="import" href="../components/quizz-answer-list.html">

<dom-module id="miercoles-app">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <cuenta-atras 
      segundos="10" 
      on-cuenta-atras-fin="finalizado" on-cuenta-atras-stopped="parado">
    </cuenta-atras>

    <h1>[[pregunta.text]] ([[pregunta.puntos]])</h1>

    <quizz-answer-list
      respuestas="[[respuestas]]">
    </quizz-answer-list>

    <quizz-answer-form on-quizz-answer-form-create="altaRespuesta"></quizz-answer-form>
    <button on-click="modificaPregunta">Modifica pregunta</button>

    <fortaleza-clave></fortaleza-clave>
   

  </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
    class MiercolesApp extends Polymer.Element {
      static get is() { return 'miercoles-app'; }
      static get properties() {
        return {
          pregunta: {
            type: Object,
            value: function() {
              return {
                text: 'Qué fue antes el huevo  o la gallina?',
                puntos: 10
              }
            }

          },
          respuestas: {
            type: Array,
            value: function() {
              return ['a', 'b', 'c']
            }
          },
          respuesta: {
            type: String,
            value: 'valor inicial'
          }
        };
      }

      modificaPregunta() {
        this.pregunta.text = 'A qué huelen las nubes?';
        this.set('pregunta.text', 'Cuántos colores tiene el arco iris?');
      }
 
      altaRespuesta(e) {
        console.log('voy a realizar el alta: ', e.detail);
        this.push('respuestas', e.detail);
      }

      finalizado() {
        console.log('He finalizado!');
      }

      parado(e) {
        console.log('Me han parado en: ' + e.detail.segundos + ' segundos');
      }

    }

    window.customElements.define(MiercolesApp.is, MiercolesApp);
  </script>
</dom-module>